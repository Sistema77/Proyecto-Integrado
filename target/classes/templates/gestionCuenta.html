<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
<meta charset="UTF-8">
<title>Home</title>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/5.3.2/css/bootstrap.min.css"
		th:href="@{/webjars/bootstrap/css/bootstrap.min.css}">
	<link rel="stylesheet" href="../static/css/estilo.css" th:href="@{/css/estilo.css}">
	<link rel="stylesheet" href="../static/css/menu.css" th:href="@{/css/menu.css}">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js" th:src="@{/webjars/jquery/jquery.min.js}"></script>
	<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/5.3.2/js/bootstrap.min.js" th:src="@{/webjars/bootstrap/js/bootstrap.min.js}"></script>
</head>

<body>
	<nav>
		<div class="menu">
			<div class="logo">
				<a>RoBanck</a>
				
				<a> 
				<img alt class="sizing-normal rounded"  th:if="${foto != null}"
                         th:src="'data:image/png;base64, ' + ${foto}" width="130" >
				</a>
				
			</div>
			<ul class="nav-links">
				<li class= "text-center"><span th:text="${nombreUsuario}">usuario</span></li>
				<li class="mt-3 me-5" sec:authorize="hasRole('ROLE_ADMIN')"><a th:href="@{/privada/administracion}">Administración</a></li>
				<li>
				<li><a th:href="@{/privada/home}">volver</a> </li>
					<form th:action="@{/auth/logout}" method="post" id="logoutForm">
						<button type="submit" class="btn btn-dark mt-2">Logout</button>
					</form>
				</li>
			</ul>
		</div>
	</nav>

	<div class="container">
		<div class="d-flex justify-content-evenly">
			<ul  class="d-flex justify-content-evenly">
				<li class="list-group-item">
					<a th:href="@{'/privada/trasferencia/' + ${cuenta.id_cuenta}}" class="btn btn-success m-4">Hacer Trasferencia</a>
				</li>
				<li class="list-group-item">
					<a th:href="@{'/privada/movimientocuenta/cajero/' + ${cuenta.id_cuenta}}" class="btn btn-success m-4">Ingresar/Sacar Dinero</a>
				</li>
				<li class="list-group-item">
					<a th:href="@{'/privada/historial/' + ${cuenta.id_cuenta}}" class="btn btn-success m-4">Historial</a>
				</li>
				<li class="list-group-item">
					<a th:href="@{'/privada/simulador/' + ${cuenta.id_cuenta}}" class="btn btn-success m-4">Simular Credito</a>
				</li>
			</ul>
		</div>
		
		<div class="card ">
			<table class="table table-striped table-bordered" th:if="${not #lists.isEmpty(cuenta)}">
            <thead class="thead-inverse">
                <tr>
                    <th class="table-dark text-center">Numero Cuenta</th>
                    <th class="table-dark text-center">saldo</th>
                    <th class="table-dark text-center">conNomina</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                	<td class="text-center" th:text="${cuenta.numeroCuenta}"></td>
                    <td class="text-center" th:text="${cuenta.saldo} + €"></td>
                    <td class="text-center" th:text="${cuenta.conNomina}? 'Si' : 'No'"></td>
                </tr>
            </tbody>
        </table>
		</div>	
	</div>
	
	
	<div th:if="${not #strings.isEmpty(noAdmin)}">
	    Acceso Restringido, No tiene permisos
	</div>
</body>

</html>